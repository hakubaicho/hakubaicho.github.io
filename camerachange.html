<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8">
    <title>カメラ切り替え</title>
  </head>
  <body>
    <div id="camera-devices">
      <p>mediaDevicesを列挙します。</p>
    </div>
    <script>
      'use strict';

      function getCameraDevices() 
      {
        // https://developer.mozilla.org/ja/docs/Web/API/MediaDevices/enumerateDevices
        if (!navigator.mediaDevices || !navigator.mediaDevices.enumerateDevices) {
          console.log("enumerateDevices() not supported.");
          return;
        }
        
        const dicDIV = document.getElementById("camera-devices");
        // List cameras and microphones.
        navigator.mediaDevices.enumerateDevices()
        .then(function(devices) {
          devices.forEach(function(device, index) {
            console.log(device.kind + ": " + device.label +
                        " id = " + device.deviceId);
            // 画面表示
            const p = document.createElement('p');
            p.innerText =`[${index}]` + device.kind + ": " + device.label +
                        " id = " + device.deviceId;
            // bodyに追加する
            dicDIV.appendChild(p);
          });
        })
        .catch(function(err) {
          console.log(err.name + ": " + err.message);
        });
      }

      getCameraDevices();
    </script>
  </body>
</html>