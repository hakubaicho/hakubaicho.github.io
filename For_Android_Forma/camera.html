<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8">
    <!-- 
      幅:1080に固定する
      ほかにいいアイデアったらお願いします。
    -->
    <meta name="viewport" content="width=1080,initial-scale=1">
    <title>カメラ撮影</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/camara.css">
    <link rel="stylesheet" href="css/talkstyle.css">
    <script src="js/connect.js"></script>
  </head>
  <body>
    <!-- 写真の登録・トライオン中のローディング画面 -->
    <div id="loading" class="loaded">
      <!-- タイトル -->
      <p id="title_logo">Tシャツを作ろう！！！</p>
      <!-- くるくる -->
      <div class="spinner"></div>
      <div class="area_talk">
        <ul class="messages">
          <!-- 1番目 -->
          <li class="left_side">
            <div class="pic">
              <!-- <img id="logo_moving_1" src="img/c1_character_pc.gif"> -->
              <img id="logo_moving_1" src="img/c1_character_sp.gif">
              <img id="logo_stop_1" class="hidden_image" src="img/c1_character_stop.png">
            </div>
            <div id="phase_1" class="text_conatainer">
              <div class="text_header">
                写真をとうろく
              </div>
              <div class="text" id="phase_1_text">
                <!-- あなたの写真をとうろくちゅうです -->
              </div>
            </div>
          </li>
          <!-- 2番目 -->
          <li class="right_side">
            <div class="pic">
              <!-- <img class="loading_icon_gif loading_icon_left" src="img/c2_character_pc.gif"> -->
              <img id="logo_moving_2" src="img/c2_character_sp.gif">
              <img id="logo_stop_2" class="hidden_image" src="img/c2_character_stop.png">
            </div>
            <div id="phase_2" class="text_conatainer">
              <div class="text_header">
                Tシャツをとうろく
              </div>
              <div class="text" id="phase_2_text">
                <!-- 着てみるTしゃつをとうろくちゅうです -->
              </div>
            </div>
          </li>
          <!-- 3番目 -->
          <li class="left_side">
            <div class="pic">
              <!-- <img id="logo_moving_3" src="img/c3_character_pc.gif"> -->
              <img id="logo_moving_3" src="img/c3_character_sp.gif">
              <img id="logo_stop_3" class="hidden_image" src="img/c3_character_stop.png">
            </div>
            <div id="phase_3" class="text_conatainer">
              <div class="text_header">
                きせかえ
              </div>
              <div class="text" id="phase_3_text">
                <!-- あなたにTシャツをきせています -->
              </div>
            </div>
          </li>
          <!-- 4番目 -->
          <li class="right_side">
            <div class="pic">
              <!-- <img id="logo_moving_4" src="img/c4_character_pc.gif"> -->
              <img id="logo_moving_4" src="img/c4_character_sp.gif">
              <img id="logo_stop_4" class="hidden_image" src="img/c4_character_stop.png">
            </div>
            <div id="phase_4" class="text_conatainer">
              <div class="text_header">
                みてみて
              </div>
              <div class="text" id="phase_4_text">
                <!-- さあ　にあっているかな？ -->
              </div>
            </div>
          </li>
          <!-- おわり -->
        </ul>
      </div>
    </div>
    <!-- モーダルウィンドウ プライバシーポリシーの表示 -->
    <section id="modal">
      <div>
        <!-- プライバシーポリシー文章 -->
        <p>
          カメラ撮影をします。
          下記の条件を受け入れてください。
        </p>
      </div>
      <div id="cancel" class="hidden">戻る</div>
      <div id="accept" class="hidden">進む</div>
    </section>
     <!-- モーダルウィンドウの時のマスク -->
    <div id="mask"></div>

    <!-- HEADER -->
    <header>
    </header>

    <!-- MAIN -->
    <main>
      <!-- カメラ -->
      <div id="area-capture" class="area-container">
        <div id="video_container">
          <!-- VIDEOの映像 -->
          <video id="camera" autoplay="1">
            <p>動画の再生に対応していません</p>
          </video>
          <!-- チャプチャーした画像 -->
          <canvas id="canvas-photo"></canvas>
        </div>
        <!-- TryOnの結果画像 -->
        <img id="tryon_result_picture" src="">
      </div>
      <div>
        <p>
          <span id="camera-status"></span>
        </p>
        <p>
          <span id="Forma_status"></span>
        </p>
        <p>
          <span id="forma_login"></span>
        </p>
      </div>
    </main>

    <!-- FOOTER -->
    <footer>
      <!-- コントロールボタン -->
      <div id="area-button" class="area-container">
        <div class="box_command">
          <img src="img/arrow_left.png" id="btn_image_back" onclick="btnimg_click_back()">
          <p>戻る</p>
        </div>
        <div class="box_command">
          <img src="img/shutter.png" id="btn_image_shutter" onclick="btnimg_click_shutter()">
          <p>撮影(取り直し)</p>
        </div>
        <div class="box_command">
          <img src="img/arrow_right.png" id="btn_image_save" onclick="btnimg_click_save()">
          <p>保存</p>
        </div>
      </div>
      
      <!-- 音声 -->
      <div id="area-sound" class="area-container" hidden>
        <p>
          <button type=button onclick="play_countdown()">テスト再生</button>
          <span>再生状態:<span id="soundStatus"></span></span>
        </p>
        <!-- 
          audioタグで先読みしておいたほうがいいです。
          じゃないとエラーが出ました。
          controlsでコントロールGUIの表示をします。
        -->
        <audio id="sound-countdown" controls src="sound/countdown3to0.mp3"></audio>
        <audio id="sound-shutter" controls src="sound/shutter.mp3"></audio>
      </div>
      <!-- カメラコントロール -->
      <div id="area-camera-ctrl" class="area-container" >
        <!-- 解像度の設定ボタン -->
        <div>
          <button type="button" class="button_command" onclick="videoSize(1024, 576)">H:1024 * W:576</button>
          <button type="button" class="button_command" onclick="videoSize(576, 1024)">H:576 * W:1024</button>
        </div>
        <!-- VIDEO選択画面 -->
        <div>
          <select id="camera_list" size="1" style="width:160pt;">
            <option>(video)</option>
          </select>
          <button id="start_video_button" class="button_command" onclick="startSelectedVideo()">Start Video</button>
        </div>
        <p>H:<span id="resolution-height"></span></p>
        <p>W:<span id="resolution-width"></span></p>
        <div id="camera-devices">
          <p>mediaDevicesを列挙します。</p>
          <button type="button" onclick="getCameraDevices()">取得</button>
          <div id="list-camera-devices">
          </div>
        </div>
      </div>
    </footer>
      
    
    <script src="js/camera.js"></script>
    <script src="js/forma.js"></script>
    <script>
      // ===============================================================
      //
      // 起動時処理
      //
      // ===============================================================
      window.onload = () => {
        // カメラの初期化
        jsCameraStart();
        // Formaにログインする。
        // user pass コード内
        LogIn();
      };
    </script>
  </body>
</html>